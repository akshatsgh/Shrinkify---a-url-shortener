{"ast":null,"code":"import _asyncToGenerator from\"/Users/akshatsingh/Desktop/Shrinkify---a-url-shortener/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/akshatsingh/Desktop/Shrinkify---a-url-shortener/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/akshatsingh/Desktop/Shrinkify---a-url-shortener/node_modules/@babel/runtime/regenerator/index.js\";import axios from\"axios\";import{useEffect,useState}from\"react\";import CopyToClipboard from\"react-copy-to-clipboard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LinkResult=function LinkResult(_ref){var inputValue=_ref.inputValue;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),shortenLink=_useState2[0],setShortenLink=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),copied=_useState4[0],setCopied=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,headers,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);data={'url':inputValue};headers={'api-key':'fB20TgJVXnnbEiv1VVEx2Oqa7g1jLg1u7qVzpNBSqJiIt','Accept':'application/json','Content-Type':'application/json'};_context.next=6;return axios.post(\"https://shrtlnk.dev/api/v2/link\",data,{headers:headers});case 6:res=_context.sent;setShortenLink(res.data.shrtlnk);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);setError(_context.t0);case 13:_context.prev=13;setLoading(false);return _context.finish(13);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,10,13,16]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();useEffect(function(){if(inputValue.length){fetchData();}},[inputValue]);useEffect(function(){var timer=setTimeout(function(){setCopied(false);},1000);return function(){return clearTimeout(timer);};},[copied]);if(loading){return/*#__PURE__*/_jsx(\"p\",{className:\"noData\",children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"p\",{className:\"noData\",children:\"Something went wrong :(\"});}return/*#__PURE__*/_jsx(_Fragment,{children:shortenLink&&/*#__PURE__*/_jsxs(\"div\",{className:\"result\",children:[/*#__PURE__*/_jsx(\"p\",{children:shortenLink}),/*#__PURE__*/_jsx(CopyToClipboard,{text:shortenLink,onCopy:function onCopy(){return setCopied(true);},children:/*#__PURE__*/_jsx(\"button\",{className:copied?\"copied\":\"\",children:\"Copy to Clipboard\"})})]})});};export default LinkResult;","map":{"version":3,"sources":["/Users/akshatsingh/Desktop/Shrinkify---a-url-shortener/src/LinkResult.js"],"names":["axios","useEffect","useState","CopyToClipboard","LinkResult","inputValue","shortenLink","setShortenLink","copied","setCopied","loading","setLoading","error","setError","fetchData","data","headers","post","res","shrtlnk","length","timer","setTimeout","clearTimeout"],"mappings":"uaAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,eAAP,KAA4B,yBAA5B,C,6IAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAoB,IAAjBC,CAAAA,UAAiB,MAAjBA,UAAiB,CACrC,cAAsCH,QAAQ,CAAC,EAAD,CAA9C,wCAAOI,WAAP,eAAoBC,cAApB,eACA,eAA4BL,QAAQ,CAAC,KAAD,CAApC,yCAAOM,MAAP,eAAeC,SAAf,eACA,eAA8BP,QAAQ,CAAC,KAAD,CAAtC,yCAAOQ,OAAP,eAAgBC,UAAhB,eACA,eAA0BT,QAAQ,CAAC,KAAD,CAAlC,yCAAOU,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,SAAS,2FAAG,wKAEdH,UAAU,CAAC,IAAD,CAAV,CACII,IAHU,CAGH,CACT,MAAOV,UADE,CAHG,CAMRW,OANQ,CAME,CACd,UAAW,+CADG,CAEd,SAAU,kBAFI,CAGd,eAAgB,kBAHF,CANF,uBAWIhB,CAAAA,KAAK,CAACiB,IAAN,mCAA6CF,IAA7C,CAAkD,CAClEC,OAAO,CAAGA,OADwD,CAAlD,CAXJ,QAWRE,GAXQ,eAcdX,cAAc,CAACW,GAAG,CAACH,IAAJ,CAASI,OAAV,CAAd,CAdc,iFAgBdN,QAAQ,aAAR,CAhBc,yBAkBdF,UAAU,CAAC,KAAD,CAAV,CAlBc,sGAAH,kBAATG,CAAAA,SAAS,2CAAf,CAsBAb,SAAS,CAAC,UAAM,CACd,GAAGI,UAAU,CAACe,MAAd,CAAsB,CACpBN,SAAS,GACV,CACF,CAJQ,CAIN,CAACT,UAAD,CAJM,CAAT,CAMAJ,SAAS,CAAC,UAAM,CACd,GAAMoB,CAAAA,KAAK,CAAGC,UAAU,CAAC,UAAM,CAC7Bb,SAAS,CAAC,KAAD,CAAT,CACD,CAFuB,CAErB,IAFqB,CAAxB,CAIA,MAAO,kBAAMc,CAAAA,YAAY,CAACF,KAAD,CAAlB,EAAP,CACD,CANQ,CAMN,CAACb,MAAD,CANM,CAAT,CAQA,GAAGE,OAAH,CAAY,CACV,mBAAO,UAAG,SAAS,CAAC,QAAb,wBAAP,CACD,CACD,GAAGE,KAAH,CAAU,CACR,mBAAO,UAAG,SAAS,CAAC,QAAb,qCAAP,CACD,CAGD,mBACE,yBACGN,WAAW,eACV,aAAK,SAAS,CAAC,QAAf,wBACE,mBAAIA,WAAJ,EADF,cAEE,KAAC,eAAD,EACE,IAAI,CAAEA,WADR,CAEE,MAAM,CAAE,wBAAMG,CAAAA,SAAS,CAAC,IAAD,CAAf,EAFV,uBAIE,eAAQ,SAAS,CAAED,MAAM,CAAG,QAAH,CAAc,EAAvC,+BAJF,EAFF,GAFJ,EADF,CAeD,CAjED,CAmEA,cAAeJ,CAAAA,UAAf","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\"\nimport CopyToClipboard from \"react-copy-to-clipboard\";\n\nconst LinkResult = ({ inputValue }) => {\n  const [shortenLink, setShortenLink] = useState(\"\");\n  const [copied, setCopied] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      var data = {\n        'url': inputValue\n      }\n      const headers = {\n        'api-key': 'fB20TgJVXnnbEiv1VVEx2Oqa7g1jLg1u7qVzpNBSqJiIt',\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'  \n      }\n      const res = await axios.post(`https://shrtlnk.dev/api/v2/link`,data,{\n        headers : headers\n      });\n      setShortenLink(res.data.shrtlnk);\n    } catch(err) {\n      setError(err);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    if(inputValue.length) {\n      fetchData();\n    }\n  }, [inputValue]);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setCopied(false);\n    }, 1000);\n\n    return () => clearTimeout(timer);\n  }, [copied]);\n\n  if(loading) {\n    return <p className=\"noData\">Loading...</p>\n  }\n  if(error) {\n    return <p className=\"noData\">Something went wrong :(</p>\n  }\n\n\n  return (\n    <>\n      {shortenLink && (\n        <div className=\"result\">\n          <p>{shortenLink}</p>\n          <CopyToClipboard\n            text={shortenLink}\n            onCopy={() => setCopied(true)}\n          >\n            <button className={copied ? \"copied\" : \"\"}>Copy to Clipboard</button>\n          </CopyToClipboard>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default LinkResult"]},"metadata":{},"sourceType":"module"}